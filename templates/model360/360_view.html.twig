{% extends 'base.html.twig' %}

{% block title %}Visualisation 360Â°{% endblock %}

{% block content %}

    <script src="{{ asset('js/pannellum.js') }}"></script>
    <link rel="stylesheet" href="{{ asset('css/pannellum.css') }}">

    <body>
    <div id="panorama" style="width: 100%; height: 800px;"></div>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            var viewer = pannellum.viewer('panorama', {
                "type": "equirectangular",
                "panorama": "models/model.jpg",
                "autoLoad": true,
                "hotSpots": [
                    {
                        "pitch":12.5,  // ðŸ”¹ Position verticale
                        "yaw": 0,    // ðŸ”¹ Position horizontale
                        "type": "custom",
                        "createTooltipFunc": hotspotText,  // ðŸ”¹ Appelle une fonction personnalisÃ©e
                        "createTooltipArgs": "Transformateur \nHTB => HTA"
                    }
                ]
            });
        });

        /* âœ… Fonction pour afficher du texte personnalisÃ© */
        function hotspotText(hotSpotDiv, args) {
            hotSpotDiv.classList.add('hotspot-text');
            hotSpotDiv.innerHTML = args.replace(/\n/g, "<br>");  // ðŸ”¹ Ajoute le texte et Convertit les "\n" en "<br>"
        }
    </script>

    <style>
        /* âœ… Style du texte */
        .hotspot-text {
            background: none;
            padding: 0;
            font-size: 18px;
            font-weight: bold;
            color: white; /* âœ… Change la couleur si besoin */
            text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.8); /* âœ… Ajoute un effet dâ€™ombre pour la lisibilitÃ© */
            white-space: nowrap; /* ðŸ”¹ EmpÃªche le texte de passer Ã  la ligne (sauf ceux imposÃ©s avec \n */
        }
    </style>

    </body>

{% endblock %}
